## Mapas
us <- c(left = -71.72,
bottom = -15.67,
right = -71.67,
top = -15.64)
base <- get_map(us,zoom = 14,maptype = 'terrain') %>%
ggmap()
map
base
base
base +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(cluster, labels = "cluster_06"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
base <- get_map(us,zoom = 14,maptype = 'terrain') %>%
ggmap()
base +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(cluster, labels = "cluster_06"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
clase_des
clase_des$cluster
base +
geom_tile(data = clase_des,
aes(x = x,
y = y))
img_clas %>%
projectRaster(crs = '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ') %>%
as('SpatialPixelsDataFrame') %>%
subset(cluster <= 6 & cluster > 5 ) %>%
raster() %>%
as.data.frame(xy = TRUE) %>%
na.omit() %>%
mutate(id = 1) -> clase_des
clase_des
## Mapas
us <- c(left = -71.72,
bottom = -15.67,
right = -71.67,
top = -15.64)
base <- get_map(us,zoom = 14,maptype = 'terrain') %>%
ggmap()
base +
geom_tile(data = clase_des,
aes(x = x,
y = y)),
fill = factor(id, labels = "cluster_06"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
base +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
base <- get_map(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
base
?get_map()
base <- get_map(us,zoom = 14,maptype = 'terrain-background',force = T) %>%
ggmap()
base <- get_stamenmap(us,zoom = 14,maptype = 'terrain-background',force = T) %>%
ggmap()
get_stamenmap()
?get_stamenmap()
base <- get_stamenmap(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
base <- get_stamenmap(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
base
base <- get_stamenmap(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
base
base <- get_map(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
base
base <- get_map(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
## Mapas
us <- c(left = -71.72,
bottom = -15.67,
right = -71.67,
top = -15.64)
base <- get_map(us,zoom = 14,maptype = 'terrain-background') %>%
ggmap()
base
?get_map()
base <- get_map(us,zoom = 14,maptype = 'toner') %>%
ggmap()
base
base <- get_map(us,zoom = 14,maptype = 'terrain-lines') %>%
ggmap()
base <- get_map(us,zoom = 14,maptype = 'satellite') %>%
ggmap()
base
base +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
base +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
base +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
img_clas %>%
projectRaster(crs = '+proj=longlat +ellps=WGS84 +datum=WGS84 +no_defs ') %>%
as('SpatialPixelsDataFrame') %>%
subset(cluster <= 6 & cluster > 5 ) %>%
raster() %>%
as.data.frame(xy = TRUE) %>%
na.omit() %>%
mutate(id = 1) -> clase_des
# Visualización rápida
plot(clase_des)
clase_des
spplot(clase_des)
# Visualización simple usando ggplot
clase_des %>%
ggplot() +
geom_tile(aes(x = x, y = y, fill = id))
# Visualización simple usando ggplot
clase_des %>%
# Visualización simple usando ggplot
clase_des %>%
# Visualización simple usando ggplot
clase_des %>%
ggplot() +
geom_tile(aes(x = x, y = y, fill = factor(id,labels = 'cluster_06_05')))
# Visualización simple usando ggplot
clase_des %>%
ggplot() +
geom_tile(aes(x = x, y = y, fill = factor(id,labels = 'cluster_06_05')))+
scale_fill_manual(values = "red",name= "Map")
# Visualización simple usando ggplot
clase_des %>%
ggplot() +
geom_tile(aes(x = x, y = y, fill = factor(id,labels = 'cluster:: 06-05')))+
scale_fill_manual(values = "red",name= "Leyenda")
us <- c(left = -71.72,
bottom = -15.67,
right = -71.67,
top = -15.64)
get_map(us,zoom = 14,maptype = 'satellite') %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster:: 06-05"))) +
scale_fill_manual(values = "red",
name= "Leyenda") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us,zoom = 14,maptype = 'satellite') %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
us <- c(left = -71.72,
bottom = -15.67,
right = -71.67,
top = -15.64)
get_map(us,zoom = 14,maptype = 'satellite') %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster:: 06-05"))) +
scale_fill_manual(values = "red",
name= "Leyenda") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us,zoom = 14,maptype = 'terrain') %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us,zoom = 14,"toner-background", darken = .7, legend = "topleft") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us,zoom = 14,"toner-background", darken = .7, legend = "topleft") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us, zoom = 14,maptype = "toner-background", darken = .7, legend = "topleft") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us, zoom = 14,maptype = "terrain", darken = .7, legend = "topleft") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering") +
theme(plot.title = element_text(lineheight=.4, face="bold"))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id, labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight=.4, face="bold"),
legend.position = 'topleft')
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight=.4,
face="bold"),
legend.position = 'lefth')
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight=.4,
face="bold"),
legend.position = 'left')
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap(legend = 'left') +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight=.4,
face="bold"))
get_map(us,
zoom = 14,
maptype = "terrain",legend = 'left') %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight=.4,
face="bold"))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),legend.position = c(0,1))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),legend.position = c(0.2,0.2))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.2,0.2))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.0,0.0))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.05,0.0))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.09,0.0))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.15,0.01))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.15,0.15))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.12,0.05))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.10,0.05))
get_map(us,
zoom = 14,
maptype = "terrain") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.10,0.05))
ggsave(filename = '../Img/mapa_final.png',plot = last_plot(),width = 10,height = 10)
ggsave(filename = '../Img/mapa_final.png',plot = last_plot(),width = 8,height = 8)
get_map(us,
zoom = 14,
maptype = "satellite") %>%
ggmap() +
geom_tile(data = clase_des,
aes(x = x,
y = y,
fill = factor(id,
labels = "cluster_06_05"))) +
scale_fill_manual(values = "red",
name= "Map") +
ggtitle("Kmeans-clustering - Sentinel2") +
theme(plot.title = element_text(lineheight =.4,
face="bold"),
legend.position = c(0.10,0.05))
ggsave(filename = '../Img/mapa_final.png',plot = last_plot(),width = 8,height = 8)
knit_with_parameters('~/Documentos/GitHub/Handbook_RGEE/Handbook_RGEE/Handbook_RGEE.Rmd')
